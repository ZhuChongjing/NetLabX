# 网络综合实验平台 - 教师教学指南

**面向教师的完整教学使用手册** 📚

---

## 📖 目录

1. [平台定位](#平台定位)
2. [快速部署](#快速部署)
3. [教学场景设计](#教学场景设计)
4. [预设拓扑使用](#预设拓扑使用)
5. [学生作业管理](#学生作业管理)
6. [常见教学问题](#常见教学问题)
7. [教学建议](#教学建议)

---

## 🎯 平台定位

### 适用课程

- **七年级信息科技 · 第二单元"直播网络我来建"**
- 涵盖第4-9课的核心知识点
- 适合单元复习、综合实验、期末考核

### 与单课工具的区别

| 对比项 | 第8课网络模拟器 | 本平台 |
|--------|----------------|--------|
| **定位** | 单节课演示 | 综合实验 |
| **功能** | 仅路由器 | 路由器+DNS+Web |
| **复杂度** | 简化版 | 完整版 |
| **时长** | 40分钟 | 80-120分钟 |
| **场景** | 课堂演示 | 单元复习/考核 |

**建议**：
- 第8课上课 → 使用简化版（`第8课\网络模拟器`）
- 单元复习/综合实验 → 使用本平台

---

## 🚀 快速部署

### 教室环境部署（推荐）

#### 步骤一：准备教师机

1. 确保安装了Node.js（v16+）
2. 打开命令行，进入项目目录：
   ```bash
   cd E:\备课\七年级上课\网络综合实验平台
   ```
3. 启动开发服务器：
   ```bash
   npm run dev
   ```
4. 看到提示：
   ```
   Local:   http://localhost:5173
   Network: http://192.168.1.100:5173
   ```
5. 记下Network地址（学生机访问地址）

#### 步骤二：学生机访问

1. 学生打开浏览器
2. 输入教师机的Network地址
3. 开始使用

#### 防火墙配置

**如果学生无法访问**：
1. 打开Windows防火墙设置
2. 允许端口5173的入站连接
3. 或临时关闭防火墙（不推荐）

### 在线部署（可选）

**部署到校园网Web服务器**：
```bash
npm run build
```
将`dist/`目录部署到服务器即可。

---

## 📚 教学场景设计

### 场景1：单元复习课（40分钟）

**适用时机**：第二单元全部学完后

**教学流程**：

| 时间 | 环节 | 教师活动 | 学生活动 |
|------|------|----------|----------|
| 0-5分钟 | 导入 | 加载示例拓扑，复习路由概念 | 观看演示 |
| 5-25分钟 | 实践 | 巡视指导 | 搭建2-3个路由器的拓扑 |
| 25-35分钟 | 进阶 | 引导DNS/Web配置 | 配置DNS和Web服务 |
| 35-40分钟 | 总结 | 展示优秀作品，总结知识点 | 分享经验 |

**教学要点**：
- 强调路由表配置的关键点
- 演示常见错误和排查方法
- 鼓励学生互相帮助

---

### 场景2：综合实验课（80分钟，2课时）

**适用时机**：期中/期末复习

**实验任务**：搭建企业网络

**网络需求**：
- 3个部门子网（内网）
- 每个部门1台PC
- 3个路由器互连（骨干网）
- 1台DNS服务器（公网）
- 1台Web服务器（公网）
- 所有PC能访问Web服务器

**教学流程**：

| 时间 | 环节 | 内容 |
|------|------|------|
| 0-10分钟 | 讲解 | 讲解网络需求，画出拓扑图 |
| 10-30分钟 | 拓扑搭建 | 学生添加设备、连接设备 |
| 30-50分钟 | 路由配置 | 学生配置路由表，测试连通性 |
| 50-65分钟 | DNS/Web配置 | 配置DNS记录、Web内容 |
| 65-75分钟 | 综合测试 | 用浏览器模拟器测试 |
| 75-80分钟 | 总结展示 | 展示成果，总结问题 |

**评分标准**（供参考）：
- 拓扑正确性（20分）
- 路由表配置（30分）
- DNS配置（20分）
- Web服务配置（15分）
- 连通性测试通过（15分）

---

### 场景3：课堂作业与考核（60-90分钟）

**适用时机**：单元测试、期末考试

**考试模式**：
1. 教师预设题目（拓扑要求、路由要求）
2. 学生在规定时间内完成
3. 提交作业（JSON文件）
4. 教师批改评分

**示例题目**：

**题目：企业网络搭建**

网络要求：
- 网络拓扑：3个子网 + 2个路由器 + 3个PC + 1个DNS + 1个Web
- IP规划：
  - 子网1：192.168.10.0/24（连R1）
  - 子网2：192.168.20.0/24（连R2）
  - 骨干网：10.0.0.0/24（R1-R2）
  - 公网：58.20.0.0/16（DNS、Web）
- 功能要求：
  - 所有PC能互相ping通
  - DNS服务器能解析 `www.company.com` → Web服务器IP
  - 所有PC能通过域名访问Web服务器

**时间限制**：60分钟

**评分细则**：
- 设备配置正确（20分）
- 连接关系正确（10分）
- 路由表配置（30分）
- DNS记录（15分）
- Web服务（10分）
- 连通性测试（15分）

---

## 🗂️ 预设拓扑使用

### 加载教学拓扑

1. 点击"场景选择器"
2. 选择"教学拓扑"
3. 系统自动加载预设的拓扑

**教学拓扑内容**：
- 3个子网 + 2个路由器 + 3个PC
- 1个DNS服务器 + 1个Web服务器
- 已配置好路由表、DNS记录、Web内容
- 适合演示完整流程

### 加载考试拓扑

1. 选择"考试拓扑"
2. 系统加载空白拓扑框架
3. 学生需要自己配置（R2路由表、PC3/PC4 IP、DNS记录、Web域名）

---

## 🧭 从零开始的一条龙配置示例（教师现场演示）

> 目标：引导学生把 PC → 路由器 → DNS → Web 服务器 的完整访问链路搭建并打通，对应新版教学拓扑。

### 步骤1：放置设备并规划地址

| 区域 | 设备 | IP / 说明 |
|------|------|-----------|
| 家庭A | PC1、PC2 | 192.168.1.10 / 192.168.1.11，DNS统一填 10.1.0.2 |
| 家庭B | PC3、PC4 | 192.168.2.10 / 192.168.2.11，DNS统一填 10.1.0.2 |
| 家庭A路由（R1） | LAN=192.168.1.1 | 仅保留一条 LAN |
| 家庭B路由（R2） | LAN=192.168.2.1 | 同上 |
| 公司A（R3 + Web1） | LAN=10.2.0.1，Web1=10.2.0.10 | 域名 `www.companya.com` |
| 公司B（R4 + Web2 + DNS） | LAN=10.1.0.1，Web2=10.1.0.10，DNS=10.1.0.2 | 域名 `www.search.com` |

### 阶段化推进建议
1. **阶段A：单个家庭局域网**
   只放置 R1 与 PC1/PC2，确保他们通过 LAN 连线，并让学生在控制面板运行局域网连通测试（192.168.1.10 ↔ 192.168.1.11），理解"同网段 + 正确网关"的概念。
2. **阶段B：两个家庭互通**
   新增 R2 与 PC3/PC4，连接 R1↔R2，讲解"跨网段必须依靠路由表"。此时只需配置两条静态路由（R1 指向 192.168.2.0，R2 指向 192.168.1.0），再验证跨家庭连通测试。
3. **阶段C：引入公司路由器 + DNS/Web**  
   在学生掌握基础后，再放置 R3/R4、Web1/Web2、DNS2，并通过骨干 `eth` 互联，逐步补齐路由、DNS 记录与浏览器访问。以下步骤默认进入该阶段，可作为完整示范脚本。

在“➕ 添加设备”面板依次创建以上设备，位置建议按区域分块摆放，便于学生理解。

### 步骤2：完成物理连接
1. 按住 Shift 把家用 PC 接到各自的路由器 LAN。
2. Web/DNS 分别连到 R3/R4。
3. 依次连接 R1↔R2、R1↔R3、R2↔R3、R3↔R4，骨干接口会自动分配 10.0.X.0/24 网段。
4. 打开“接口管理器”检查 LAN 只连接终端、eth 只连接路由器，若有错误直接删除连线重连。

### 步骤3：配置路由表
- **R1**：`192.168.1.0` 直连；`192.168.2.0` → R2；`10.2.0.0`、`10.1.0.0` → R3
- **R2**：`192.168.2.0` 直连；`192.168.1.0` → R1；`10.2.0.0`、`10.1.0.0` → R3
- **R3**：`10.2.0.0` 直连；`192.168.1.0` → R1；`192.168.2.0` → R2；`10.1.0.0` → R4
- **R4**：`10.1.0.0` 直连；其余三个网段全部指向 R3

鼓励学生先画草图，把“目标网段 → 下一跳”列出来，再逐条录入系统，可以显著减少错误。

### 步骤4：配置 DNS 与 Web
1. **DNS2-公司B**：IP=10.1.0.2，添加 `www.companya.com → 10.2.0.10`、`www.search.com → 10.1.0.10`。
2. **Web1**：IP=10.2.0.10，域名 `www.companya.com`，端口 80，HTML 内容可直接引用 README 示例。
3. **Web2**：IP=10.1.0.10，域名 `www.search.com`，端口 80。

### 步骤5：验证并总结
1. 打开控制面板运行连通测试：`PC1-阿珍 → Web1-公司A`，检查跨域路径。
2. 使用浏览器模拟器访问 `http://www.search.com`，讲解 DNS + HTTP 的动画过程。
3. 切换到"⤢ 最大化画布"模式，让学生观察每台设备自动展示的 IP / DNS / 路由表摘要。
4. 当前版本将测试工具统一为连通测试，可配合浏览器模拟器覆盖绝大部分排错场景。

> 建议在演示时故意遗留一个配置错误（如 PC DNS 写错、路由缺一条），让学生根据提示排查，可显著提升故障定位能力。

---

## 📽️ 画布演示模式（v2.8.0）

1. 在拓扑区域右上角点击“⤢ 最大化画布”，即可进入全屏演示模式，适合投屏讲解
2. 退出时点击右上角“退出最大化”，回到常规界面
3. 在演示模式下，每个设备会自动展示关键信息：
   - **PC**：当前IP与绑定的DNS服务器
   - **DNS服务器**：已配置的域名解析记录（最多展示4条）
   - **路由器**：LAN网段（x.x.x.0）与前4条路由表记录
   - **Web服务器**：监听端口
4. 对于常见排错场景（如DNS未配置、路由缺失），无需额外打开侧边面板即可让全班看到问题所在
5. 画布操作（拖拽、缩放、动画）在演示模式下保持可用
6. 顶部保留"全局动画速度/单步"控制条，最大化时也可直接调整动画速度或单步推进（连通测试 / DNS / HTTP 共用）

---

## 📝 学生作业管理

### 学生提交作业

**学生操作**：
1. 完成配置后，点击"提交作业"
2. 填写姓名、学号、班级
3. 系统自动保存配置文件

**文件存储**：
- 保存路径：`E:\备课\七年级上课\网络综合实验平台\submissions\`
- 文件命名：`[IP地址]_[姓名]_[时间].json`
- 例如：`192.168.1.101_张三_20251107143526.json`

### 查看学生作业

**方法一：手动查看**
1. 打开`submissions/`文件夹
2. 找到学生的JSON文件
3. 用文本编辑器查看

**方法二：导入查看**（推荐）
1. 在平台上点击"导入配置"
2. 选择学生的JSON文件
3. 系统加载学生的拓扑
4. 进行测试和评分

### 评分建议

**手动评分流程**：
1. 导入学生的配置
2. 检查拓扑是否符合要求
3. 运行连通测试，检查连通性（优先级数字越小越先走，直连填0）
4. 检查路由表配置是否正确
5. 测试DNS解析和Web访问
6. 根据评分标准打分

**快速评分技巧**：
- 先用连通测试检查所有连通性要求
- 一次性失败 → 路由表有问题
- DNS失败 → 检查DNS配置
- HTTP失败 → 检查Web服务

### 批改辅助工具（v2.8.0）

- 打开"📊 批改作业"侧边栏后，可以在"⚙️ 批改辅助工具"中勾选：
  - **快速动画模式**：DNS/HTTP 双向动画自动提速，节省等待时间
  - **自动诊断写评语**：每次运行连通测试 / DNS / HTTP 时，系统会把测试结果整理成一段诊断文本，自动写入评语框
- 如果想保留老师手动撰写的评语，只需关闭自动诊断开关即可
- 诊断文本包含：
  - 测试类型（连通测试 / DNS / HTTP）与成功/失败状态
  - 失败时的第一条排查建议（例如"R1缺少192.168.20.0路由"）
  - 关键路径、HTTP状态码等
- 侧边栏顶部同时显示当前作业进度与"✅ 已批改"标记，便于把控整体进展

---

## ❓ 常见教学问题

### Q1: 学生无法连接设备？

**A**: 提醒学生**按住Shift键**，这是最常见的错误。

### Q2: 学生的路由表配置总是失败？

**A**: 常见错误：
1. **下一跳填错** → 应该填路由器名称（如R2），不是IP
2. **目标网络填错** → 只填网络号（如192.168.20.0），不要加/24
3. **直连不会配** → 直连的下一跳填"-"，权重填0

**教学建议**：
- 先在黑板上画拓扑图
- 标注每个路由器的"邻居"
- 逐条讲解路由表的填写规则

### Q3: 学生不理解DNS的作用？

**A**: 生活化比喻：
- DNS = 电话簿
- 域名 = 人名
- IP地址 = 电话号码
- DNS解析 = 查电话簿找电话号码

**演示方法**：
1. 先让学生直接用IP访问Web服务器（能成功）
2. 再让学生用域名访问（配置DNS后成功）
3. 对比两种方式，理解DNS的便利性

### Q4: 学生做实验太慢，来不及完成？

**A**: 教学策略：
1. **分步骤教学**：
   - 第一课时：只做拓扑和路由
   - 第二课时：做DNS和Web
2. **小组协作**：
   - 2-3人一组
   - 分工合作（一人拓扑，一人路由，一人DNS）
3. **提供模板**：
   - 预先配置好一部分
   - 学生只完成核心部分

### Q5: 如何批量批改作业？

**A**: 当前版本（v2.0）：
- 需要手动逐个导入查看
- 建议：抽查部分学生作业

**未来版本（v3.0）**：
- 将支持自动批改
- 一键批量处理所有提交

---

## 💡 教学建议

### 课前准备

1. **测试网络**：
   - 提前一天测试教师机和学生机连接
   - 确保防火墙配置正确

2. **准备示例**：
   - 准备2-3个不同难度的示例拓扑
   - 准备常见错误的演示

3. **明确要求**：
   - 提前告知学生实验任务
   - 明确评分标准

### 课堂组织

1. **演示为先**：
   - 先用教师机投屏演示操作
   - 重点强调Shift+点击连接

2. **循序渐进**：
   - 从简单拓扑开始（2个设备）
   - 逐步增加复杂度

3. **即时反馈**：
   - 巡视学生操作
   - 及时纠正错误

4. **鼓励探索**：
   - 允许学生尝试不同的网络设计
   - 鼓励创新（如多种路由路径）

### 进度控制

**40分钟课时**：
- 0-10分钟：演示讲解
- 10-30分钟：学生实践
- 30-38分钟：展示总结
- 38-40分钟：课后作业

**80分钟课时**：
- 0-15分钟：复习和讲解
- 15-60分钟：学生实践（教师巡视）
- 60-75分钟：测试和调试
- 75-80分钟：总结和展示

### 差异化教学

**基础层次学生**：
- 提供部分预配置的拓扑
- 只要求完成路由表配置
- 降低设备数量（2个路由器）

**中等层次学生**：
- 从头搭建完整拓扑
- 配置路由、DNS、Web
- 完成所有连通性测试

**高级层次学生**：
- 设计复杂网络（4-5个路由器）
- 配置多条路径（负载均衡）
- 探索故障排除

### 课后巩固

1. **布置作业**：
   - 让学生课后自己搭建一个网络
   - 要求提交配置文件

2. **错题本**：
   - 记录学生常犯的错误
   - 下次课重点讲解

3. **优秀作品展示**：
   - 展示学生的创新网络设计
   - 鼓励其他学生学习

---

## 🔧 技术支持

### 常见技术问题

**问题1：端口被占用**
```
Error: Port 5173 is in use
```
**解决**：
```bash
# 换一个端口启动
npm run dev -- --port 5174
```

**问题2：学生机无法访问**
- 检查防火墙
- 确认在同一局域网
- 使用`ipconfig`查看教师机IP

**问题3：浏览器兼容性**
- 推荐使用Chrome或Edge
- 避免使用IE浏览器

### 备用方案

**网络故障**：
- 准备离线版（`npm run build`后的`dist/`文件夹）
- 复制到每台学生机的本地磁盘

**时间不够**：
- 使用预设拓扑快速开始
- 减少设备数量

---

## 📞 联系与反馈

遇到问题或有改进建议：
- 记录问题详情
- 课后与IT技术人员沟通
- 持续优化教学方案

---

**祝教学顺利！** 🎓

七年级信息科技 · 网络综合实验平台
