# 网络综合实验平台 - 学生操作手册

**欢迎使用网络综合实验平台！** 🎉

本平台帮助你理解和实践第二单元"直播网络我来建"的网络知识。

---

## 📖 目录

1. [快速开始](#快速开始)
2. [基础操作](#基础操作)
3. [搭建网络拓扑](#搭建网络拓扑)
4. [配置路由表](#配置路由表)
5. [配置DNS服务](#配置dns服务)
6. [配置Web服务](#配置web服务)
7. [测试网络连通性](#测试网络连通性)
8. [提交作业](#提交作业)
9. [常见问题](#常见问题)

---

## 🚀 快速开始

### 访问平台

1. 打开浏览器（Chrome/Edge推荐）
2. 输入地址：`http://[教师机IP]:5173`
   - 例如：`http://192.168.1.100:5173`
3. 首次使用会看到新手引导，请认真阅读

### 首次使用提示

- **Shift + 点击**：连接两个设备
- **单击设备**：查看设备详情
- **双击设备**：编辑设备属性
- **拖拽设备**：调整位置
- **鼠标滚轮**：缩放画布

---

## 🎮 基础操作

### 画布操作

| 操作 | 方法 |
|------|------|
| 缩放画布 | 鼠标滚轮上下滚动 |
| 平移画布 | 按住鼠标左键拖拽空白区域 |
| 重置视图 | 点击右上角"重置视图"按钮 |

> 💡 如果需要更大视图观看拓扑，可点击拓扑区右上角的“⤢ 最大化画布”，在全屏模式下所有设备会自动显示关键配置，便于老师讲解或组内协作；按右上角提示即可退出。

### 设备操作

| 操作 | 方法 |
|------|------|
| 添加设备 | 点击"➕ 添加设备"按钮 |
| 选择设备 | 单击设备 |
| 编辑设备 | 双击设备 |
| 删除设备 | 双击设备，点击"删除设备"按钮 |
| 拖拽设备 | 按住设备拖动到目标位置 |

### 连接操作

| 操作 | 方法 |
|------|------|
| 连接两个设备 | 按住**Shift键**，依次点击两个设备 |
| 删除连接 | 点击连接线中间的红色删除点 |

---

## 🏗️ 搭建网络拓扑

### 第一步：添加设备

1. 点击右上角 **"➕ 添加设备"** 按钮
2. 选择设备类型：
   - **PC** - 普通计算机
   - **路由器** - 网络路由设备
   - **DNS服务器** - 域名解析服务器
   - **Web服务器** - 网站服务器
3. 填写设备信息：
   - **设备名称**：如 PC1、R1、DNS1、Web1
   - **IP地址**：如 192.168.1.2、10.0.0.1
4. 点击"添加"

**💡 命名建议**：
- PC：PC1、PC2、PC3...
- 路由器：R1、R2、R3...
- DNS服务器：DNS、DNS1...
- Web服务器：Web、Web1...

### 第二步：连接设备

1. 按住 **Shift 键**
2. 点击第一个设备
3. 点击第二个设备
4. 系统自动创建连接线

**⚠️ 重要提示**：
- 路由器之间连接时，系统会自动配置接口IP
- 自动分配的IP使用骨干网段（10.0.X.0）
- 提示框会显示分配的接口和IP

### 第三步：调整布局

- 拖拽设备到合适位置
- 使用"自动布局"按钮（如果可用）
- 调整画布缩放查看整体效果

---

## 🛣️ 配置路由表

### 什么是路由表？

路由表告诉路由器"如何把数据包送到目标网络"。就像快递员的配送地图一样。

### 配置步骤

1. **单击选中一个路由器**
2. 下方显示"路由表编辑器"
3. 点击 **"➕ 添加路由"**
4. 填写路由信息：

| 字段 | 说明 | 示例 |
|------|------|------|
| 目标网络 | 要到达的网段（只填网络号） | `192.168.20.0` |
| 下一跳 | 下一个路由器的名称，或填"-"表示直连 | `R2` 或 `-` |
| 权重 | 跳数（经过几个路由器） | `1` |
| 出接口 | 从哪个接口发出数据包 | `eth1` |

5. 点击"保存"

### 配置技巧

**直连网络**：
- 如果目标网络直接连在本路由器上，下一跳填 **"-"**
- 权重填 **0**

**非直连网络**：
- 下一跳填下一个路由器的**名称**（如 R2）
- 权重填经过的跳数

**示例**：R1要到达192.168.20.0网段
- 192.168.20.0直接连在R2上
- R1和R2相连
- 配置：目标=`192.168.20.0`，下一跳=`R2`，权重=`1`，接口=`eth1`

---

## 🌐 配置DNS服务

### 第一步：配置DNS服务器

1. **双击DNS服务器设备**
2. 确认IP地址（如 192.168.1.53）
3. 点击"保存"

### 第二步：添加DNS记录

1. **单击选中DNS服务器**
2. 右侧显示"DNS管理器"
3. 点击 **"➕ 添加记录"**
4. 填写记录信息：
   - **域名**：如 `www.school.com`
   - **IP地址**：如 `192.168.2.50`
   - **记录类型**：选择 A记录（最常用）
5. 点击"添加"

### 第三步：配置PC的DNS

1. **双击PC设备**
2. 找到"DNS服务器"字段
3. 填写DNS服务器的IP（如 `192.168.1.53`）
4. 点击"保存"

**💡 记住**：PC要访问域名，必须先配置DNS服务器！

---

## 📄 配置Web服务

### 第一步：配置Web服务器IP和端口

1. **双击Web服务器设备**
2. 设置：
   - **IP地址**：如 `192.168.2.50`
   - **端口号**：默认 `80`（可以改为8080等）
3. 点击"保存"

### 第二步：编辑网站内容

1. **单击选中Web服务器**
2. 右侧显示"Web服务器管理器"
3. 点击 **"✏️ 编辑"** 按钮
4. 在编辑框中输入HTML代码
5. 点击"保存"

---

## 🧩 示例：从零搭建完整链路（PC → 路由器 → DNS → Web）

> 参考本示例可以在空白画布搭建与课堂教学一致的网络，也能帮助你检查自己的配置是否彻底。

1. **放置设备并设置IP**
   - 家庭A：PC1/PC2（192.168.1.10 / 192.168.1.11），网关写 192.168.1.1，DNS统一写 10.1.0.2。
   - 家庭B：PC3/PC4（192.168.2.10 / 192.168.2.11），网关写 192.168.2.1，DNS同样指向 10.1.0.2。
   - 路由器：R1=192.168.1.1，R2=192.168.2.1，R3=10.2.0.1，R4=10.1.0.1（LAN 接口自动存在）。
   - 公司A：Web1=10.2.0.10（域名 `www.companya.com`，端口80）。
   - 公司B：Web2=10.1.0.10（域名 `www.search.com`，端口80），DNS=10.1.0.2。

2. **连接顺序**
   - Shift+点击，让每个 PC 接入所在路由器。
   - Web1 接 R3，Web2 与 DNS 接 R4。
   - 路由器之间依次连接：R1↔R2、R1↔R3、R2↔R3、R3↔R4，系统会自动创建骨干接口（10.0.X.0/24）。

3. **路由表模板**
   - R1：`192.168.1.0` 直连；`192.168.2.0` → R2；`10.2.0.0`、`10.1.0.0` → R3。
   - R2：`192.168.2.0` 直连；`192.168.1.0` → R1；`10.2.0.0`、`10.1.0.0` → R3。
   - R3：`10.2.0.0` 直连；`192.168.1.0` → R1；`192.168.2.0` → R2；`10.1.0.0` → R4。
   - R4：`10.1.0.0` 直连；其余三个网段全部指向 R3。

4. **DNS记录**
   - 选中 DNS2-公司B，添加 `www.companya.com → 10.2.0.10`、`www.search.com → 10.1.0.10`。
   - 确保两条记录均显示为 ✅。

5. **验证**
   - 控制面板运行连通测试：选择 `PC1-阿珍 → Web1-公司A`。
   - 浏览器模拟器选择 PC1，访问 `http://www.search.com`，DNS解析、HTTP响应都要显示 ✅。

只要跟着以上五步，整条链路就能完全打通；排错时也可以逐步回到对应步骤核对配置。

**📝 简单HTML示例**：
```html
<!DOCTYPE html>
<html>
<head>
    <title>我的网站</title>
</head>
<body>
    <h1>欢迎访问我的网站！</h1>
    <p>这是我在实验平台创建的第一个网页。</p>
</body>
</html>
```

### 第三步：预览效果

- 保存后，点击 **"👁️ 预览效果"** 按钮
- 查看网页渲染效果
- 确认无误后可以进行测试

---

## 🧪 测试网络连通性

### 连通测试（基础）

**测试两台设备能否连通并查看路径**

1. 点击左下角"控制面板"
2. 下拉选择：
   - 源设备（如 `PC1-阿珍 (192.168.1.10)`）
   - 目标设备（如 `Web1-公司A (10.2.0.10)`）
3. 点击 **"📍 连通测试"**
4. 观察结果：
   - ✅ 绿色=成功，并显示路径
   - ❌ 红色=失败，根据提示排查

**动画速度/单步讲解（全局生效）**
- 页面顶部有"全局动画速度"下拉：`单步 / 正常 / 快速`，适用于连通测试、DNS、HTTP 三种动画
- 选“单步模式”后，点击“▶️ 下一步”逐段播放；正常/快速自动播放
- 最大化画布时同样可在顶部控制条操作，便于投屏讲解

### DNS + HTTP 访问（完整流程）

1. 在右侧“浏览器模拟器”中选择源 PC
2. 输入要访问的域名（如 `www.school.com`）和端口
3. 点击 **"🌐 访问"**，依次观察 DNS 查询和 HTTP 请求动画
4. 若配置正确，将自动弹出网页预览

### 浏览器模拟器（完整测试）

**模拟访问网站**

1. 点击右侧"浏览器模拟器"
2. 选择源PC
3. 填写：
   - **访问URL**：域名（如 `www.school.com`）
   - **端口**：Web服务器端口（如 `80`）
4. 点击 **"🌐 访问网站"**
5. 观看动画：
   - 蓝色：DNS查询过程
   - 绿色：HTTP请求过程
6. 成功后自动弹出网页！

**💡 提示**：
- DNS查询失败 → 检查PC的DNS配置
- HTTP请求失败 → 检查路由表配置

---

## 📦 提交作业

### 填写学生信息

1. 点击左上角 **"📝 提交作业"** 按钮
2. 填写：
   - **姓名**：你的真实姓名
   - **学号**：你的学号
   - **班级**：你的班级
3. 点击"提交"

### 提交流程

- 系统会自动保存你的配置
- 文件名格式：`IP地址_姓名_时间.json`
- 提交后会显示成功提示
- 教师可以看到你的作业

**⚠️ 注意事项**：
- 提交前请确认拓扑和配置都完成
- 建议先用连通测试确认连通
- 一旦提交，无法撤回

---

## ❓ 常见问题

### Q1: 为什么连接不上设备？

**A**: 检查以下几点：
1. 是否按住了**Shift键**？
2. 两个设备之间是否已经有连接？
3. 是否点击了同一个设备两次？

### Q2: 连通测试失败怎么办？

**A**: 根据错误提示检查：
- **"找不到默认网关"** → PC和路由器IP不在同一网段
- **"没有物理连接"** → 忘记用Shift+点击连接设备
- **"路由表中没有路由"** → 路由器的路由表未配置
- **"检测到路由环路"** → 路由表配置错误，形成死循环

### Q3: DNS查询失败？

**A**: 检查：
1. PC是否配置了DNS服务器？（双击PC查看）
2. DNS服务器是否有这个域名的记录？
3. PC能否ping通DNS服务器？

### Q4: HTTP请求失败？

**A**: 检查：
1. DNS是否正确解析了域名？
2. PC能否ping通Web服务器？
3. Web服务器是否配置了HTML内容？
4. 端口号是否正确？

### Q5: 配置丢失了？

**A**:
- 配置保存在浏览器缓存中
- 如果清除了浏览器数据，配置会丢失
- 建议定期点击"导出配置"备份

### Q6: 如何重新开始？

**A**:
- 点击左上角"清空拓扑"按钮
- 或者刷新页面

---

## 🎯 学习建议

### 循序渐进

1. **第一天**：学习基础操作（添加设备、连接、连通测试）
2. **第二天**：练习路由表配置（2-3个路由器）
3. **第三天**：学习DNS和Web服务配置
4. **第四天**：完成综合实验（搭建完整网络）

### 实验思路

**简单实验**（30分钟）：
- 2个PC + 1个路由器
- 练习连通测试

**中级实验**（60分钟）：
- 2个子网 + 2个路由器 + 2个PC
- 配置路由表实现互通

**高级实验**（90分钟）：
- 3个子网 + 3个路由器 + 3个PC + DNS + Web
- 完整的域名访问流程

### 学习资源

- 复习教材第4-9课内容
- 参考老师提供的示例拓扑
- 向同学请教或小组讨论

---

## 📞 遇到问题？

- **技术问题**：举手问老师
- **操作问题**：查看本手册
- **Bug反馈**：告知老师

---

**祝你实验愉快！加油！** 💪

🎓 七年级信息科技 · 网络综合实验平台
